<?xml version="1.0" encoding="UTF-8"?>
<mily-mappings package="com.haoyong.sales.base.form">
	<import>net.sf.mily.support.form.*</import>
	<import>com.haoyong.sales.common.listener.*</import>
	<import>com.haoyong.sales.base.domain.*</import>
	<!-- 商品大类 -->
	<class name="CTypeForm" label="商品大类">
		<view name="List" label="大类建档" builder="EditViewBuilder">
			<param name="cfg">
				<attribute name="before" value="beforeList" />
				<attribute name="floatable" value="false" />
			</param>
			<param name="menu">
				<attribute name="text" value="新增" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="PostListener" />
					<attribute name="method" value="createPrepare" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener"/>
					<attribute name="view-name" value="edit"/>
				</param>
			</param>
			<!-- 点击编辑按钮到编辑页面 --> 
			<param name="menu">
				<attribute name="text" value="编辑" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="SelectDomainListener" />
				</param>
				<param name="listener">
					<attribute name="class" value="PostListener" />
					<attribute name="method" value="editPrepare" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="edit" />
				</param>
			</param>
			<!-- 删除 -->
			<param name="menu">
				<attribute name="text" value="删除" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="SelectDomainListener" />
				</param>
				<param name="listener">
					<attribute name="class" value="PostListener" />
					<attribute name="method" value="editPrepare" />
				</param>
				<param name="listener">
					<attribute name="class" value="ActionServiceListener" />
					<attribute name="action" value="TypeInfos_ItemDelete" />
					<attribute name="setter" value="setCType4Service" />
					<attribute name="message" value="确认删除此分类？" />
				</param>
				<param name="listener">
					<attribute name="class" value="RefreshListener" />
				</param>
			</param>
			<!-- 显示数据列表 -->
			<property name="detailList" class="CType" builder="EditSqlBuilder">
				<property name="id" label="大类编号" builder="TextBuilder"/>
				<property name="name" label="大类名称" builder="TextBuilder"/>
			</property>
		</view>
		<view name="CTypeQuery" builder="EditViewBuilder">
			<param name="cfg">
				<attribute name="before" value="beforeList" />
			</param>
			<property name="detailList" class="CType" builder="EditSqlBuilder">
				<property name="id" label="大类编号" builder="TextBuilder"/>
				<property name="name" label="大类名称" builder="TextBuilder"/>
			</property>
		</view>
		<view name="edit" builder="EditViewBuilder">
			<param name="menu">
				<attribute name="text" value="提交" />
				<attribute name="image" value="mily/img/color.gif" />
				<!-- 数据验证 -->
				<param name="listener">
					<attribute name="class" value="ValidateListener" />
					<attribute name="method" value="createCommit" />
				</param>
				<param name="listener">
					<attribute name="class" value="ActionServiceListener" />
					<attribute name="action" value="TypeInfos_ItemSave" />
					<attribute name="setter" value="setCType4Service" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="List" />
				</param>
			</param>
			<param name="menu">
				<attribute name="text" value="取消" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="List" />
				</param>
			</param>
			<property name="domain" class="CType" builder="EditViewBuilder">
				<property name="id" label="大类编号" builder="TextBuilder"/>
				<property name="name" label="大类名称" builder="TextFieldBuilder">
  					<param name="validate">
						<attribute name="require" value="true"/>
					</param>
				</property>
			</property>
		</view>
	</class>
</mily-mappings>
