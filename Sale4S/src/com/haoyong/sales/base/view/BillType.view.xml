<?xml version="1.0" encoding="UTF-8"?>
<mily-mappings package="com.haoyong.sales.base.form">
	<import>net.sf.mily.support.form.*</import>
	<import>com.haoyong.sales.common.listener.*</import>
	<import>com.haoyong.sales.base.domain.*</import>
	<!-- 票据类型 -->
	<class name="BillTypeForm" label="票据类型">
		<view name="List" label="票据类型建档" builder="EditViewBuilder">
			<param name="cfg">
				<attribute name="before" value="beforeList" />
			</param>
			<param name="menu">
				<attribute name="text" value="新增" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="PostListener" />
					<attribute name="method" value="prepareCreate" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener"/>
					<attribute name="view-name" value="Edit"/>
				</param>
			</param>
			<param name="menu">
				<attribute name="text" value="编辑" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="SelectDomainListener" />
					<attribute name="view-name" value="detailList" />
				</param>
				<param name="listener">
					<attribute name="class" value="PostListener" />
					<attribute name="method" value="prepareEdit" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="Edit" />
				</param>
			</param>
			<param name="menu">
				<attribute name="text" value="删除" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="SelectDomainListener" />
					<attribute name="setter" value="setBillSelected" />
					<attribute name="view-name" value="detailList" />
				</param>
				<param name="listener">
					<attribute name="class" value="ActionServiceListener" />
					<attribute name="action" value="TypeInfos_ItemDelete" />
					<attribute name="setter" value="setBill4Service" />
					<attribute name="message" value="确认删除票据类型吗？" />
				</param>
				<param name="listener">
					<attribute name="class" value="RefreshListener" />
				</param>
			</param>
			<property name="detailList" class="BillType" builder="EditListBuilder">
				<property name="id" label="类型编号" builder="TextBuilder"/>
				<property name="name" label="票据类型名称" builder="TextBuilder"/>
			</property>
		</view>
		<view name="Edit" builder="EditViewBuilder">
			<param name="menu">
				<attribute name="text" value="提交"></attribute>
				<attribute name="image" value="mily/img/color.gif" />
				<!-- 数据验证 -->
				<param name="listener">
					<attribute name="class" value="ValidateListener" />
					<attribute name="method" value="validateBill" />
				</param>
				<param name="listener">
					<attribute name="class" value="ActionServiceListener" />
					<attribute name="action" value="TypeInfos_ItemSave" />
					<attribute name="setter" value="setBill4Service" />
				</param>
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="List" />
				</param>
			</param>
			<param name="menu">
				<attribute name="text" value="取消" />
				<attribute name="image" value="mily/img/color.gif" />
				<param name="listener">
					<attribute name="class" value="ForwardListener" />
					<attribute name="view-name" value="List" />
				</param>
			</param>
			<property name="domain" class="BillType" builder="EditViewBuilder">
				<property name="name" label="票据类型" builder="TextFieldBuilder">
  					<param name="validate">
						<attribute name="require" value="true"/>
					</param>
				</property>
			</property>
		</view>
	</class>
</mily-mappings>
